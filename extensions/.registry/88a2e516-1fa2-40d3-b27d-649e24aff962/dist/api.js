import{request as e,log as t}from"directus:api";var o={editor:{text:"Fix Spelling & Grammar",value:"editor",icon:"edit",messages:[{role:"system",content:"You are a copy editor. Apply light editing to content you are provided. The text may already have typesetting applied in the form of Markdown or HTML tags. You must detect whether Markdown or HTML is used and your edits must remain consistent with the detected typesetting. If the text uses HTML, only use HTML tags already present in the copy given. You should improve the overall readability if it is needed. Avoid edits that alter the meaning substantially. You must fix all grammatical and spelling errors. Only reply with the edited version of the provided copy. You will need to detect the language used and use that language."},{role:"user",content:"She no went to the market."},{role:"assistant",content:"She did not go to the market."},{role:"user",content:"Hello, my nmae is john Doe and its grate to meet you."},{role:"assistant",content:"Hello, my name is John Doe and it's great to meet you."},{role:"user",content:"Pretend you are a cheese expert. Write a small blog post about your favourite cheese. Format it using Markdown."},{role:"assistant",content:"# My Favorite Cheese: Brie\n\nAs a self-proclaimed cheese connoisseur, I have tasted many varieties of cheese from around the world. However, one cheese that always stands out to me is Brie.\n\n## What is Brie?\n\nBrie is a soft cow's milk cheese named after the French region from which it originated. It has a pale, yellowish rind with a creamy interior that softens as it ripens. The rich, buttery flavor of Brie is simply irresistible."},{role:"user",content:"Don't generate an article. Format the text I gave you as a copy editor."},{role:"assistant",content:"Pretend you are a cheese expert. Write a small blog post about your favourite cheese. Format it using Markdown."}]},microblog:{text:"Short Social Post",value:"microblog",icon:"tag",messages:[{role:"system",content:"You are a content marketer. Write a short and impactful summary of the content you are provided. The summary should be less than 280 characters long. The provided text may already have typesetting applied in the form of Markdown or HTML tags. You must detect whether Markdown or HTML is used to help with semantic understanding. Your generated summary should be written in plain text though without any markup. Only reply with the summary of the provided content. You will need to detect the language used and use that language."}]},expander:{text:"Make Longer",value:"expander",icon:"subject",messages:[{role:"system",content:"You are a ghost writer. Expand the content you are provided to create a full length written work. The provided text may already have typesetting applied in the form of Markdown or HTML tags. You must detect whether Markdown or HTML is used and your edits must remain consistent with the detected typesetting. If the text uses HTML, only use HTML tags already present in the copy given. You will need to improve the overall readability of what is provided as the provided content may just be a few notes and ideas. You will need to establish if the notes are for a blog post, web article, or something generic. Only reply with the edited version of the provided content. You will need to detect the language used and use that language."}]},condenser:{text:"Make Shorter",value:"condenser",icon:"short_text",messages:[{role:"system",content:"You are a content editor. Make the content you are provided as short and easy to read as possible. The provided text may already have typesetting applied in the form of Markdown or HTML tags. You must detect whether Markdown or HTML is used and your edits must remain consistent with the detected typesetting. If the text uses HTML, only use HTML tags already present in the copy given. Avoid edits that alter the meaning substantially. Only reply with the edited version of the provided content. You will need to detect the language used and use that language."}]},seo:{text:"Create SEO Description",value:"seo",icon:"travel_explore",messages:[{role:"system",content:"You are a Search Engine Optimisation (SEO) Marketing Specialist. Identify the key words in the content you are provided and write a short summary of the content suitable for use in a description meta HTML tag. The summary should be less than 150 characters long. The provided text may already have typesetting applied in the form of Markdown or HTML tags. You must detect whether Markdown or HTML is used to help with semantic understanding. Your generated summary should be written in plain text though without any markup. Use best practices to target the keywords in the summary. Only reply with the summary of the provided content. You will need to detect the language used and use that language."}]},custom:{text:"Write Custom Prompt",value:"custom",icon:"keyboard",messages:[]}},a={id:"directus-labs-ai-writer-operation",handler:async({apiKey:a,model:r,promptKey:s,text:n,system:i,thread:d,json_mode:h})=>{try{i=i?[{role:"system",content:i}]:[],d=d??[];let t={model:r,messages:[...o[s].messages,...i,...d,{role:"user",content:n}]};h&&(t.response_format={type:"json_object"});const l=await e("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(200!=l.status)throw new Error("An error occurred when accessing Open AI");return(await l.data.choices)[0].message.content}catch(e){throw t(e.message),new Error(e.message)}}};export{a as default};
